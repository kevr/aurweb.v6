{% extends "aurbase.html" %}
{% load i18n %}
{% load trans_args %}

{% block ptitle %}{% trans "Search Criteria" %}{% if K %}: {{ K }}{% endif %}{% endblock %}

{% block content %}
<div id="pkglist-results" class="box">
  {% include "packages/search_critera.html" %}
  <div class="pkglist-stats">
    <p>{{ package_count }} packages found. Page {{ current_page }} of {{ pages }}.</p>
  </div>

  <form id="pkglist-results-form" method="post" action="/pkgbase/?O=0&SeB=n">
    <table class="results">
      <thead>
        <tr>
          <th>&nbsp;</th>
          <th><a href="?O=0&SeB=n&SB=n&SO=a">Name</a></th>
          <th>Version</th>
          <th><a href="?O=0&SeB=n&SB=v&SO=a">Votes</a></th>
          <th>
            <a href="?O=0&SeB=n&SB=p&SO=a">Popularity</a>
            <span title="Popularity is calculated as the sum of all votes with each vote being weighted with a factor of 0.98 per day since its creation." class="hover-help"><sup>?</sup></span>
          </th>
          <th><a href="?O=0&SeB=n&SB=w&SO=a">Voted</a></th>
          <th><a href="?O=0&SeB=n&SB=o&SO=a">Notify</a></th>
          <th>Description</th>
          <th><a href="?O=0&SeB=n&SB=m&SO=a">Maintainer</a></th>
        </tr>
      </thead>

      <tbody>
        {% for pkg in results %}
        <tr class="{% if forloop.counter|divisibleby:2 %}odd{% else %}even{% endif %}">
          <td>
            <input type="checkbox" name="ids_{{ forloop.counter }}" />
          </td>
          <td>
            <a href="/packages/{{ pkg.name|urlencode }}/">{{ pkg.name }}</a>
          </td>
          <td>{{ pkg.version }}</td>
          <td>{{ pkg.package_base.votes.count }}</td>
          <td>{{ pkg.package_base.popularity }}</td>
          <td></td>
          <td></td>
          <td class="wrap">{{ pkg.description }}</td>
          <td><a href="/account/{{ pkg.package_base.maintainer.username|urlencode }}/" title="View account information for {{ pkg.package_base.maintainer.username }}">{{ pkg.package_base.maintainer.username }}</a></td>
        </tr>
        {% endfor %}
      </tbody>

    </table>
  </form>
</div>

{% endblock %}

